参照了网上的一个例子，信息处理方面仍有一些问题，目前为聊天室类型。
增加了传输类型，集中在sendmessage方法中处理文件传输和信息交互的不同。
